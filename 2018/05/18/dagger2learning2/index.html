<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.jpg?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.jpg?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Android,Dagger2," />










<meta name="description" content="参考：Dagger2 使用（二） 接上一篇Dagger2初探(一)继续讲Dagger2中的一些注解。">
<meta name="keywords" content="Android,Dagger2">
<meta property="og:type" content="article">
<meta property="og:title" content="Dagger2初探(二)">
<meta property="og:url" content="http://yoursite.com/2018/05/18/dagger2learning2/index.html">
<meta property="og:site_name" content="mundane的幻想空间">
<meta property="og:description" content="参考：Dagger2 使用（二） 接上一篇Dagger2初探(一)继续讲Dagger2中的一些注解。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p8jwibwpo.bkt.clouddn.com/20180517094109.png">
<meta property="og:updated_time" content="2018-05-18T02:04:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dagger2初探(二)">
<meta name="twitter:description" content="参考：Dagger2 使用（二） 接上一篇Dagger2初探(一)继续讲Dagger2中的一些注解。">
<meta name="twitter:image" content="http://p8jwibwpo.bkt.clouddn.com/20180517094109.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/05/18/dagger2learning2/"/>





  <title>Dagger2初探(二) | mundane的幻想空间</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mundane的幻想空间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">生如逆旅, 一苇以航</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/18/dagger2learning2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mundane">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://ww3.sinaimg.cn/mw690/96a29af5jw8fdfu43tnvlj20ro0rotab.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mundane的幻想空间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Dagger2初探(二)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-18T09:57:34+08:00">
                2018-05-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>参考：<br><a href="https://my.oschina.net/zzxzzg/blog/1541916" target="_blank" rel="noopener">Dagger2 使用（二）</a></p>
<p>接上一篇<a href="https://mundane799699.github.io/2018/05/15/dagger2learning1/" target="_blank" rel="noopener">Dagger2初探(一)</a>继续讲Dagger2中的一些注解。<br><a id="more"></a></p>
<h1 id="Qualifier和-Named"><a href="#Qualifier和-Named" class="headerlink" title="@Qualifier和@Named"></a>@Qualifier和@Named</h1><p>关于这里有这么一个场景，有一个测试接口和一个线上接口，调用哪个接口一般通过一个标志位来区分, 上代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QualifierActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"QualifierActivity"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isTest = <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    ApiServer mApiServerTest;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    ApiServer mApiServerRelease;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_qualifier);</span><br><span class="line">        DaggerQualifierComponent.builder()</span><br><span class="line">                .apiServerModule(getApiServerModule())</span><br><span class="line">                .build()</span><br><span class="line">                .inject(<span class="keyword">this</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">"mApiServerTest = "</span> + mApiServerTest);</span><br><span class="line">        Log.d(TAG, <span class="string">"mApiServerRelease = "</span> + mApiServerRelease);</span><br><span class="line">        <span class="keyword">if</span> (isTest) &#123;</span><br><span class="line">            mApiServerTest.register();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mApiServerRelease.register();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiServerModule <span class="title">getApiServerModule</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServerModule(getApplicationContext());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ApiServerModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiServerModule</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"ApiServerModule"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ApiServerModule</span><span class="params">(Context context)</span></span>&#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiServer <span class="title">provideTestApiServer</span><span class="params">(OkHttpClient okHttpClient)</span></span>&#123;</span><br><span class="line">        Log.d(TAG,<span class="string">"provideTestApiServer"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServer(okHttpClient);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiServer <span class="title">provideReleaseApiServer</span><span class="params">(OkHttpClient okHttpClient)</span></span>&#123;</span><br><span class="line">        Log.d(TAG,<span class="string">"provideReleaseApiServer"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServer(okHttpClient);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>NetModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NetModule</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"NetModule"</span>;</span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> OkHttpClient <span class="title">provideOkhttpClient</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Log.d(TAG, <span class="string">"provideOkhttpClient"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> OkHttpClient().newBuilder().build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>QualifierComponent.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(modules = &#123;ApiServerModule.class, NetModule.class&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">QualifierComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inject</span><span class="params">(QualifierActivity activity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后Make Project, 发现报错了<br><img src="http://p8jwibwpo.bkt.clouddn.com/20180517094109.png"><br>因为ApiServerModule里有两个方法的返回值都是ApiServer，Component一脸懵逼，愣是搞不懂把哪两个”绑定”起来，直接罢工了。所以这里需要用@Named注解来标注，从而区分这两个对象。</p>
<p>现在修改代码：</p>
<p>ApiServerModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiServerModule</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"ApiServerModule"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ApiServerModule</span><span class="params">(Context context)</span></span>&#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Named</span>(<span class="string">"test"</span>)</span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiServer <span class="title">provideTestApiServer</span><span class="params">(OkHttpClient okHttpClient)</span></span>&#123;</span><br><span class="line">        Log.d(TAG,<span class="string">"provideTestApiServer"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServer(okHttpClient);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Named</span>(<span class="string">"release"</span>)</span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiServer <span class="title">provideReleaseApiServer</span><span class="params">(OkHttpClient okHttpClient)</span></span>&#123;</span><br><span class="line">        Log.d(TAG,<span class="string">"provideReleaseApiServer"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServer(okHttpClient);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>QualifierActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QualifierActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"QualifierActivity"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isTest = <span class="keyword">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Named</span>(<span class="string">"test"</span>)</span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    ApiServer mApiServerTest;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Named</span>(<span class="string">"release"</span>)</span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    ApiServer mApiServerRelease;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_qualifier);</span><br><span class="line">        DaggerQualifierComponent.builder()</span><br><span class="line">                .apiServerModule(getApiServerModule())</span><br><span class="line">                .build()</span><br><span class="line">                .inject(<span class="keyword">this</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">"mApiServerTest = "</span> + mApiServerTest);</span><br><span class="line">        Log.d(TAG, <span class="string">"mApiServerRelease = "</span> + mApiServerRelease);</span><br><span class="line">        <span class="keyword">if</span> (isTest) &#123;</span><br><span class="line">            mApiServerTest.register();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mApiServerRelease.register();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ApiServerModule <span class="title">getApiServerModule</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiServerModule(getApplicationContext());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">05-17 10:19:27.307 13288-13288/me.mundane.dagger2learning D/NetModule: provideOkhttpClient</span><br><span class="line">05-17 10:19:27.382 13288-13288/me.mundane.dagger2learning D/ApiServerModule: provideTestApiServer</span><br><span class="line">05-17 10:19:27.383 13288-13288/me.mundane.dagger2learning D/ApiServer: ApiServer构造函数</span><br><span class="line">05-17 10:19:27.384 13288-13288/me.mundane.dagger2learning D/NetModule: provideOkhttpClient</span><br><span class="line">05-17 10:19:27.386 13288-13288/me.mundane.dagger2learning D/ApiServerModule: provideReleaseApiServer</span><br><span class="line">05-17 10:19:27.386 13288-13288/me.mundane.dagger2learning D/ApiServer: ApiServer构造函数</span><br><span class="line">05-17 10:19:27.386 13288-13288/me.mundane.dagger2learning D/QualifierActivity: mApiServerTest = me.mundane.dagger2learning.bean.ApiServer@8381dde</span><br><span class="line">05-17 10:19:27.386 13288-13288/me.mundane.dagger2learning D/QualifierActivity: mApiServerRelease = me.mundane.dagger2learning.bean.ApiServer@b28bbf</span><br><span class="line">05-17 10:19:27.386 13288-13288/me.mundane.dagger2learning D/ApiServer: 注册信息</span><br></pre></td></tr></table></figure>
<p>可以看到成功注入了两个ApiServer对象</p>
<p>其实这里的@Named注解也只是@Qualifier中的一种而已，我们直接看@Named的源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Qualifier</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention</span>(RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Named &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** The name. */</span></span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们可以不使用@Named而使用@Qualifier来自定义两个注解。</p>
<p>Release.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Qualifier</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Release &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Test.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Qualifier</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Test &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用这两个注解替换@Named(“test”)和@Named(“release”)<br>查看打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">05-17 10:51:09.746 15573-15573/me.mundane.dagger2learning D/NetModule: provideOkhttpClient</span><br><span class="line">05-17 10:51:09.832 15573-15573/me.mundane.dagger2learning D/ApiServer: ApiServer构造函数</span><br><span class="line">05-17 10:51:09.833 15573-15573/me.mundane.dagger2learning D/ApiServerModule: provideTestApiServer me.mundane.dagger2learning.bean.ApiServer@753e28c</span><br><span class="line">05-17 10:51:09.834 15573-15573/me.mundane.dagger2learning D/NetModule: provideOkhttpClient</span><br><span class="line">05-17 10:51:09.835 15573-15573/me.mundane.dagger2learning D/ApiServer: ApiServer构造函数</span><br><span class="line">05-17 10:51:09.836 15573-15573/me.mundane.dagger2learning D/ApiServerModule: provideReleaseApiServer me.mundane.dagger2learning.bean.ApiServer@2064dd5</span><br><span class="line">05-17 10:51:09.836 15573-15573/me.mundane.dagger2learning D/QualifierActivity: mApiServerTest = me.mundane.dagger2learning.bean.ApiServer@753e28c</span><br><span class="line">05-17 10:51:09.836 15573-15573/me.mundane.dagger2learning D/QualifierActivity: mApiServerRelease = me.mundane.dagger2learning.bean.ApiServer@2064dd5</span><br><span class="line">05-17 10:51:09.836 15573-15573/me.mundane.dagger2learning D/ApiServer: 注册信息</span><br></pre></td></tr></table></figure>
<p>可以看到效果和@Named是一样的。</p>
<h1 id="Provides-Lazy"><a href="#Provides-Lazy" class="headerlink" title="Provides, Lazy"></a>Provides, Lazy</h1><p>还是直接上代码<br>Dog.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"Dog"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Log.d(TAG, <span class="string">"Dog构造函数初始化"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DogComponent.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(modules = DogModule.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DogComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inject</span><span class="params">(LazyActivity activity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LazyActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"LazyActivity"</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Lazy&lt;Dog&gt; mDogLazy;<span class="comment">//注入Lazy元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Provider&lt;Dog&gt; mDogProvider;<span class="comment">//注入Provider元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Dog mDog;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_lazy);</span><br><span class="line">        DaggerDogComponent.create().inject(<span class="keyword">this</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">"mDog = "</span> + mDog);</span><br><span class="line">        Log.d(TAG, <span class="string">"------------------  我是分割线 ------------------"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 在这时才创建Dog实例，以后每次调用get会得到同一个Dog对象</span></span><br><span class="line">        Log.d(TAG, <span class="string">"dogLazy1 = "</span> + mDogLazy.get());</span><br><span class="line">        Log.d(TAG, <span class="string">"dogLazy2 = "</span> + mDogLazy.get());</span><br><span class="line">        Log.d(TAG, <span class="string">"dogLazy3 = "</span> + mDogLazy.get());</span><br><span class="line">        Log.d(TAG, <span class="string">"------------------  我是分割线 ------------------"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 在这时才创建对象，以后每次调用get会再强制调用对应Module层的Provides方法一次</span></span><br><span class="line">        <span class="comment">// 根据Provides方法具体实现不同， 可能返回跟之前是同一个对象，也可能不同。</span></span><br><span class="line">        Log.d(TAG, <span class="string">"dogProvider1 = "</span> + mDogProvider.get());</span><br><span class="line">        Log.d(TAG, <span class="string">"dogProvider2 = "</span> + mDogProvider.get());</span><br><span class="line">        Log.d(TAG, <span class="string">"dogProvider3 = "</span> + mDogProvider.get());</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">05-17 11:48:31.858 19046-19046/me.mundane.dagger2learning D/DogModule: provideDog</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/Dog: Dog构造函数初始化</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: mDog = me.mundane.dagger2learning.bean.Dog@36b1df</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: ------------------  我是分割线 ------------------</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/DogModule: provideDog</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/Dog: Dog构造函数初始化</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogLazy1 = me.mundane.dagger2learning.bean.Dog@2f5de2c</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogLazy2 = me.mundane.dagger2learning.bean.Dog@2f5de2c</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogLazy3 = me.mundane.dagger2learning.bean.Dog@2f5de2c</span><br><span class="line">05-17 11:48:31.859 19046-19046/me.mundane.dagger2learning D/LazyActivity: ------------------  我是分割线 ------------------</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/DogModule: provideDog</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/Dog: Dog构造函数初始化</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogProvider1 = me.mundane.dagger2learning.bean.Dog@e6930f5</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/DogModule: provideDog</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/Dog: Dog构造函数初始化</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogProvider2 = me.mundane.dagger2learning.bean.Dog@232ae8a</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/DogModule: provideDog</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/Dog: Dog构造函数初始化</span><br><span class="line">05-17 11:48:31.860 19046-19046/me.mundane.dagger2learning D/LazyActivity: dogProvider3 = me.mundane.dagger2learning.bean.Dog@97e8cfb</span><br><span class="line">05-17 11:48:31.867 19046-19046/me.mundane.dagger2learning D/ActivityThreadInjector: clearCachedDrawables.</span><br><span class="line">05-17 11:48:31.967 19046-19102/me.mundane.dagger2learning D/OpenGLRenderer: endAllStagingAnimators on 0xa955fb00 (RippleDrawable) with handle 0x9fbbf2c0</span><br></pre></td></tr></table></figure>
<p>可以发现，和普通的@Inject不同，普通的@Inject是在注入后就开始创建对象了，而Lazy和Provider对象只有在调用get()方法的时候才会去调用Module里的provide方法。<br>区别在于：<br>Lazy是懒加载，以后每次调用get会得到同一个对象。<br>Provider不是懒加载，以后每次调用get会再强制调用对应module层的Provides方法一次，根据Provides方法具体实现不同。</p>
<h1 id="Binds"><a href="#Binds" class="headerlink" title="@Binds"></a>@Binds</h1><p>@Binds类似于@Provides, 区别是@Binds用于修饰抽象类中的抽象方法, 看一下使用实例吧。<br>Presenter接口和PresenterImpl</p>
<p>Presenter.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Presenter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>PresenterImpl.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PresenterImpl</span> <span class="keyword">implements</span> <span class="title">Presenter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"PresenterImpl"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PresenterImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Log.d(TAG, <span class="string">"This is PresenterImpl"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>PresenterModule是这里的关键，@Binds也是用在这里的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @Module may not contain both non-static @Provides methods</span></span><br><span class="line"><span class="comment">// and abstract @Binds or @Multibinds declarations</span></span><br><span class="line"><span class="comment">// 注意也要用抽象类和抽象方法</span></span><br><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">PresenterModule</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 这个方法必须返回接口或抽象类，比如Presenter，不能直接返回PresenterImpl</span></span><br><span class="line">    <span class="comment">// 方法的参数类型就是这个方法返回的注入对象的类型，类似@Provides修饰的方法的返回类型</span></span><br><span class="line">    <span class="meta">@Binds</span></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> Presenter <span class="title">bindPresenter</span><span class="params">(PresenterImpl presenter)</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意到abstract。module类和这个bind方法都是抽象的。参数类型为PresenterImpl，意思就是说，想要注入Presenter, 请找PresenterImpl。<br>然后我们再写一个PresenterImplModule提供具体的Presenter实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PresenterImplModule</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="function">PresenterImpl <span class="title">providePresenterImpl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PresenterImpl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>BindsComponent.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(modules = &#123;PresenterModule.class, PresenterImplModule.class&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BindsComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inject</span><span class="params">(BindsActivity activity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>BindsActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BindsActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"BindsActivity"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Presenter mPresenterImpl;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_binds);</span><br><span class="line">        DaggerBindsComponent.create().inject(<span class="keyword">this</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">"mPresenterImpl = "</span> + mPresenterImpl);</span><br><span class="line">        mPresenterImpl.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">05-17 15:15:06.821 13285-13285/me.mundane.dagger2learning D/BindsActivity: mPresenterImpl = me.mundane.dagger2learning.bean.PresenterImpl@79efdd7</span><br><span class="line">05-17 15:15:06.821 13285-13285/me.mundane.dagger2learning D/PresenterImpl: This is PresenterImpl</span><br></pre></td></tr></table></figure>
<p>可以看到成功注入了一个Presenter的实现类的对象。</p>
<p><strong>需要注意的地方：<br>@Provides和@Binds这两个不能共存于一个module。</strong></p>
<h1 id="IntoSet"><a href="#IntoSet" class="headerlink" title="@IntoSet"></a>@IntoSet</h1><p>之前介绍的内容都是单个对象的注入，那么我们是否能将多个对象注入到容器中呢？首先是Set。</p>
<p>IntoSetModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntoSetModule</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoSet</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoSet</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IntoSetComponent.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(modules = IntoSetModule.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntoSetComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inject</span><span class="params">(IntoSetActivity activity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IntoSetActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntoSetActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Set&lt;Player&gt; mPlayers;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_into_set);</span><br><span class="line">        DaggerIntoSetComponent.create().inject(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">for</span> (Player player : mPlayers) &#123;</span><br><span class="line">            player.play();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">05-17 17:05:42.247 18727-18727/me.mundane.dagger2learning D/Player: 1 is playing </span><br><span class="line">05-17 17:05:42.247 18727-18727/me.mundane.dagger2learning D/Player: 2 is playing</span><br></pre></td></tr></table></figure>
<p>可以看到这个Set被成功注入了，并且里面包含了两个对象。<br>当然因为Set是无序的，所以在这个Set中play1在前面还是play2在前面也是不确定的。</p>
<p><strong>进阶用法：</strong><br>可以同时向 Set 注入多个对象。修改IntoSetModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntoSetModule</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoSet</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoSet</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@ElementsIntoSet</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;Player&gt; <span class="title">providePlayers</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(<span class="keyword">new</span> Player(<span class="string">"3"</span>), <span class="keyword">new</span> Player(<span class="string">"4"</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">05-17 17:11:57.565 19836-19836/me.mundane.dagger2learning D/Player: 2 is playing </span><br><span class="line">05-17 17:11:57.565 19836-19836/me.mundane.dagger2learning D/Player: 4 is playing </span><br><span class="line">05-17 17:11:57.565 19836-19836/me.mundane.dagger2learning D/Player: 1 is playing </span><br><span class="line">05-17 17:11:57.565 19836-19836/me.mundane.dagger2learning D/Player: 3 is playing</span><br></pre></td></tr></table></figure>
<p>当然也是无序的。</p>
<h1 id="IntoMap"><a href="#IntoMap" class="headerlink" title="@IntoMap"></a>@IntoMap</h1><p>@IntoMap其实和@IntoSet类似<br>IntoMapModule.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntoMapModule</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoMap</span></span><br><span class="line">    <span class="meta">@StringKey</span>(value = <span class="string">"1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Provides</span></span><br><span class="line">    <span class="meta">@IntoMap</span></span><br><span class="line">    <span class="meta">@StringKey</span>(value = <span class="string">"2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Player <span class="title">providePlayer2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Player(<span class="string">"2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IntoMapComponent.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(modules = IntoMapModule.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntoMapComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inject</span><span class="params">(IntoMapActivity activity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IntoMapActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntoMapActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"IntoMapActivity"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Map&lt;String, Player&gt; mPlayers;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_into_map);</span><br><span class="line">        DaggerIntoMapComponent.create().inject(<span class="keyword">this</span>);</span><br><span class="line">        Log.d(TAG, <span class="string">"mPlayers = "</span> + mPlayers);</span><br><span class="line">        <span class="keyword">for</span> (String s : mPlayers.keySet()) &#123;</span><br><span class="line">            Player player = mPlayers.get(s);</span><br><span class="line">            Log.d(TAG, <span class="string">"key = "</span> + s + <span class="string">", value  = "</span> + player);</span><br><span class="line">            player.play();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">05-17 19:10:04.299 26236-26236/me.mundane.dagger2learning D/IntoMapActivity: mPlayers = &#123;1=me.mundane.dagger2learning.bean.Player@2afd2a8, 2=me.mundane.dagger2learning.bean.Player@cfc11c1&#125;</span><br><span class="line">05-17 19:10:04.300 26236-26236/me.mundane.dagger2learning D/IntoMapActivity: key = 1, value  = me.mundane.dagger2learning.bean.Player@2afd2a8</span><br><span class="line">05-17 19:10:04.301 26236-26236/me.mundane.dagger2learning D/Player: 1 is playing </span><br><span class="line">05-17 19:10:04.301 26236-26236/me.mundane.dagger2learning D/IntoMapActivity: key = 2, value  = me.mundane.dagger2learning.bean.Player@cfc11c1</span><br><span class="line">05-17 19:10:04.301 26236-26236/me.mundane.dagger2learning D/Player: 2 is playing</span><br></pre></td></tr></table></figure>
<p>可以看到也成功将多个对象注入到了Map容器当中<br>除了@StringKey以外，目前dagger2预定义的有:</p>
<ul>
<li>@ClassKey</li>
<li>@IntKey</li>
<li>@LongKey</li>
</ul>
<p><strong>@MapKey：</strong></p>
<p>我们观察@StringKey的源码可以发现是这样的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target</span>(METHOD)</span><br><span class="line"><span class="meta">@Retention</span>(RUNTIME)</span><br><span class="line"><span class="meta">@MapKey</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> StringKey &#123;</span><br><span class="line">  <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们要使用@MapKey自定义一个@xxxKey的话，返回类型必须是以下几类：</p>
<ul>
<li>基本数据类型</li>
<li>String</li>
<li>Class</li>
<li>枚举类型</li>
<li>注解类型</li>
<li>以上数据类型的数组</li>
</ul>
<p>但是还可以指定 Enum 类型，或者特定的类的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> MyEnum &#123;</span><br><span class="line">  ABC, DEF;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@MapKey</span></span><br><span class="line"><span class="meta">@interface</span> MyEnumKey &#123;</span><br><span class="line">  <span class="function">MyEnum <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@MapKey</span></span><br><span class="line"><span class="meta">@interface</span> MyNumberClassKey &#123;</span><br><span class="line">  Class&lt;? extends Number&gt; value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Module</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyModule</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Provides</span></span><br><span class="line">  <span class="meta">@IntoMap</span></span><br><span class="line">  <span class="meta">@MyEnumKey</span>(MyEnum.ABC)</span><br><span class="line">  <span class="function"><span class="keyword">static</span> String <span class="title">provideABCValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"value for ABC"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Provides</span></span><br><span class="line">  <span class="meta">@IntoMap</span></span><br><span class="line">  <span class="meta">@MyNumberClassKey</span>(BigDecimal.class)</span><br><span class="line">  <span class="function"><span class="keyword">static</span> String <span class="title">provideBigDecimalValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"value for BigDecimal"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还有个复合键值，但是就暂时写到这里吧。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"><i class="fa fa-tag"></i> Android</a>
          
            <a href="/tags/Dagger2/" rel="tag"><i class="fa fa-tag"></i> Dagger2</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/15/dagger2learning1/" rel="next" title="Dagger2初探(一)">
                <i class="fa fa-chevron-left"></i> Dagger2初探(一)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://ww3.sinaimg.cn/mw690/96a29af5jw8fdfu43tnvlj20ro0rotab.jpg"
                alt="mundane" />
            
              <p class="site-author-name" itemprop="name">mundane</p>
              <p class="site-description motion-element" itemprop="description">心之焚焰</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/mundane799699" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://weibo.com/qimingxingzaiqian" target="_blank" title="新浪微博">
                    
                      <i class="fa fa-fw fa-weibo"></i>新浪微博</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Qualifier和-Named"><span class="nav-number">1.</span> <span class="nav-text">@Qualifier和@Named</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Provides-Lazy"><span class="nav-number">2.</span> <span class="nav-text">Provides, Lazy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Binds"><span class="nav-number">3.</span> <span class="nav-text">@Binds</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IntoSet"><span class="nav-number">4.</span> <span class="nav-text">@IntoSet</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IntoMap"><span class="nav-number">5.</span> <span class="nav-text">@IntoMap</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mundane</span>

  
</div>






  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
